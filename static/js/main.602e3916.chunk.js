(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,o){e.exports=o.p+"static/media/blackking.55996645.svg"},function(e,t,o){e.exports=o.p+"static/media/blackknight.9448fe65.svg"},function(e,t,o){e.exports=o.p+"static/media/blackpawn.1936b4fb.svg"},function(e,t,o){e.exports=o.p+"static/media/blackqueen.1e08c1cd.svg"},function(e,t,o){e.exports=o.p+"static/media/blackrook.de028d4c.svg"},function(e,t,o){e.exports=o.p+"static/media/blackbishop.0fbeae9e.svg"},function(e,t,o){e.exports=o.p+"static/media/whitebishop.247f2288.svg"},function(e,t,o){e.exports=o.p+"static/media/whiteking.d48cb8c6.svg"},function(e,t,o){e.exports=o.p+"static/media/whiteknight.d9e7ee7d.svg"},function(e,t,o){e.exports=o.p+"static/media/whitepawn.e3ae362d.svg"},function(e,t,o){e.exports=o.p+"static/media/whitequeen.899af581.svg"},function(e,t,o){e.exports=o.p+"static/media/whiterook.2775cbc7.svg"},,,,,function(e,t,o){e.exports=o(44)},,,,,function(e,t,o){},,,,,,function(e,t,o){"use strict";o.r(t);var r=o(0),n=o.n(r),c=o(6),i=o.n(c),s=(o(38),o(1)),a=o(4),l=o(14),u=o(15),p=o(31),b=o(16),w=o(32);function d(e){this.color=e,this.possibleMove=!1,this.selected=!1}function f(){this.name=null,this.possibleMove=!1,this.selected=!1}function h(e){d.call(this,e),this.name="Knight",this.src="knight",this.movement=[[{x:1,y:2}],[{x:-1,y:2}],[{x:1,y:-2}],[{x:-1,y:-2}],[{x:2,y:1}],[{x:-2,y:1}],[{x:2,y:-1}],[{x:-2,y:-1}]]}function v(e){d.call(this,e),this.name="Rook",this.src="rook",this.firstMove=!0,this.movement=[Array(7).fill().reduce(function(e,t,o){return e.push({x:0,y:-o-1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:0,y:o+1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:-o-1,y:0}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:o+1,y:0}),e},[])],this.handleFirstMove=function(){this.firstMove=!1}}function m(e){d.call(this,e),this.name="Bishop",this.src="bishop",this.movement=[Array(7).fill().reduce(function(e,t,o){return e.push({x:-o-1,y:-o-1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:-o-1,y:o+1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:o+1,y:-o-1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:o+1,y:o+1}),e},[])]}function y(e){d.call(this,e),this.name="Queen",this.src="crown",this.movement=[Array(7).fill().reduce(function(e,t,o){return e.push({x:0,y:-o-1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:0,y:o+1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:-o-1,y:0}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:o+1,y:0}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:-o-1,y:-o-1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:-o-1,y:o+1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:o+1,y:-o-1}),e},[]),Array(7).fill().reduce(function(e,t,o){return e.push({x:o+1,y:o+1}),e},[])]}function g(e){d.call(this,e),this.name="King",this.src="king",this.firstMove=!0,this.movement=[[{x:-1,y:-1}],[{x:-1,y:0}],[{x:-1,y:1}],[{x:0,y:1}],[{x:1,y:1}],[{x:1,y:0}],[{x:1,y:-1}],[{x:0,y:-1}]],this.handleFirstMove=function(){this.firstMove=!1}}function k(e){d.call(this,e),this.name="Pawn",this.src="pawn",this.firstMove=!0,this.direction="white"===e?1:-1,this.movement=[[{x:0,y:1*this.direction},{x:0,y:2*this.direction}]],this.getEatFromBehindPosition=function(){return-this.direction},this.eatingMoves=[{x:-1,y:this.direction},{x:1,y:this.direction}],this.handleFirstMove=function(){this.firstMove=!1,this.movement=[[{x:0,y:this.direction}]]}}var O=o(17),P=o.n(O),j=o(18),E=o.n(j),M=o(19),x=o.n(M),C=o(20),S=o.n(C),D=o(21),A=o.n(D),R=o(22),F=o.n(R),L=o(23),B=o.n(L),N=o(24),_=o.n(N),W=o(25),q=o.n(W),K=o(26),T=o.n(K),I=o(27),U=o.n(I),G=o(28),z=o.n(G);function H(e,t,o){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return o.movement.reduce(function(n,c){for(var i=0;i<c.length;){var a=c[i],l=a.x,u=a.y,p=o.coord,b=p.col,w=p.row,d=b+l<=7&&b+l>=0&&w+u>=0&&w+u<=7,f=e.map(function(e){return Object(s.a)(e)});if(d){var h=e[w+u][b+l],v=!h.name,m=h.color===t,y=h.color&&h.color!==t;if(v)if(r)Y(f,t,o.coord,{col:b+l,row:w+u})?n.possibleMoves.push({col:b+l,row:w+u}):n.forbiddenMoves.push({col:b+l,row:w+u});if(!v&&"Pawn"===o.name)break;if(m)break;if(y){if("King"===h.name&&(n.possibleChess=!0),r)Y(f,t,o.coord,{col:b+l,row:w+u})?n.possibleEat.push({col:b+l,row:w+u}):n.forbiddenMoves.push({col:b+l,row:w+u});break}}i++}return n},{possibleMoves:[],possibleEat:[],forbiddenMoves:[],possibleChess:!1})}function V(e,t,o,r,n){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i=r.coord,a=i.col,l=i.row,u=e.map(function(e){return Object(s.a)(e)});if(r.eatingMoves)return r.eatingMoves.reduce(function(n,i){var s=i.x,p=i.y;if(a+s<=7&&a+s>=0&&l+p>=0&&l+p<=7){var b=e[l+p][a+s];if(b.color&&b.color!==t)if("King"===b.name&&(n.possibleChess=!0),c)Y(u,t,r.coord,{col:a+s,row:l+p})?n.possibleEat.push({col:a+s,row:l+p}):n.forbiddenMoves.push({col:a+s,row:l+p});o&&o.col===a+s&&o.row===l+p&&n.possibleEat.push({col:a+s,row:l+p})}return n},{possibleEat:[],forbiddenMoves:n.forbiddenMoves?Object(s.a)(n.forbiddenMoves):[],possibleChess:!1})}function Y(e,t,o,r){for(var n="black"===t?"white":"black",c=J(e,o,r),i=0;i<c.length;i++)for(var s=0;s<c[i].length;s++){var a=c[i][s];if(a.color===n){if(H(c,n,a,!1).possibleChess)return!1;if("Pawn"===a.name&&V(c,n,!1,a,!1).possibleChess)return!1}}return!0}function Q(e,t){for(var o="black"===t?"white":"black",r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++){var c=e[r][n];if(c.color===o&&(H(e,o,c).possibleMoves.length||H(e,o,c).possibleEat.length))return!1}return!0}function J(e,t,o){var r=e[t.row][t.col];return e[o.row][o.col]=Object.assign({},r,{coord:o}),e[t.row][t.col]=Object.assign(new f,{coord:t}),e}function X(e){var t="".concat(e.color).concat(e.name);return"blackKing"===t?P.a:"blackKnight"===t?E.a:"blackPawn"===t?x.a:"blackQueen"===t?S.a:"blackRook"===t?A.a:"blackBishop"===t?F.a:"whiteBishop"===t?B.a:"whiteKing"===t?_.a:"whiteKnight"===t?q.a:"whitePawn"===t?T.a:"whiteQueen"===t?U.a:"whiteRook"===t?z.a:""}var $=n.a.memo(function(e){var t=e.number,o=e.className,r=e.piece,c=e.handleClick,i=t%2===1?"Black":"White";return n.a.createElement("div",{onClick:c.bind(null,r),className:"".concat(i,"Square ").concat(o)},n.a.createElement("img",{src:X(r),alt:""}))}),Z=o(2),ee=o(7);function te(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function oe(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?te(o,!0).forEach(function(t){Object(a.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):te(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var re={white:[],black:[],currentPlayer:"black",move:0,undo:!1};var ne=Object(ee.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_WHITE":return oe({},e,{white:[].concat(Object(s.a)(e.white),[t.payload])});case"ADD_BLACK":return oe({},e,{black:[].concat(Object(s.a)(e.black),[t.payload])});case"SWITCH_PLAYER":return oe({},e,{currentPlayer:t.payload});case"ADD_MOVE":return oe({},e,{move:e.move+1});case"SUB_MOVE":return oe({},e,{move:e.move-1});case"TOGGLE_UNDO":return oe({},e,{undo:!e.undo});case"RELOAD_LOST_PIECES":return console.log(oe({},e,{white:t.payload.white,black:t.payload.black})),oe({},e,{white:t.payload.white,black:t.payload.black});default:return e}}),ce=o(8),ie=o.n(ce);function se(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function ae(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?se(o,!0).forEach(function(t){Object(a.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):se(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var le=[[new v("white"),new h("white"),new m("white"),new g("white"),new y("white"),new m("white"),new h("white"),new v("white")],[new k("white"),new f("white"),new k("white"),new f("white"),new f("white"),new k("white"),new f("white"),new k("white")],[new f,new f,new f,new f,new f,new y("white"),new f,new f],[new f,new f,new f,new f,new f,new f,new f,new f],[new f,new f,new f,new f,new f,new f,new f,new f],[new f,new f,new f,new f,new f,new f,new f,new f],[new k("black"),new k("black"),new f("black"),new k("black"),new f("black"),new k("white"),new f("black"),new k("black")],[new v("black"),new f("black"),new f("black"),new g("black"),new f("black"),new f("black"),new f("black"),new v("black")]].map(function(e,t){return e.map(function(e,o){return e.coord={col:o,row:t},e})}),ue=function(e){function t(){var e,o;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(o=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(n)))).state={board:le,currentPlayer:"black",selectedCoord:{},StartingCoord:{},LoM:{possibleMoves:[],possibleEat:[],possibleRock:[],possibleChess:!1},lostPieces:{white:[],black:[]},chessMate:!1,prevState:{}},o.componentDidUpdate=function(){o.props.undo&&(console.log(o.state.prevState.lostPieces),o.setState(o.state.prevState),ne.dispatch({type:"TOGGLE_UNDO"}),ne.dispatch({type:"RELOAD_LOST_PIECES",payload:o.state.prevState.lostPieces}),ne.dispatch({type:"SUB_MOVE"}))},o.handleClick=function(e,t){var r=ie.a.cloneDeep(o.state),n=r.board,c=r.currentPlayer,i=r.selectedCoord,a=r.lostPieces,l=e.color===c&&(e.coord.col!==i.col||e.coord.row!==i.row),u=(e.coord.col!==i.col||e.coord.row!==i.row)&&(e.color===c||t.target.classList.contains("possibleMove")||t.target.classList.contains("possibleEat")||t.target.classList.contains("possibleRock"));if(l){var p={y:t.target.getBoundingClientRect().top,x:t.target.getBoundingClientRect().left};o.setState({StartingCoord:p});var b=H(n,r.currentPlayer,e);return"King"===e.name&&e.firstMove&&(b=ae({},b,{},function(e,t){var o=e.board;function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=t.coord,n=r.col,c=r.row,i=1;n+i*e<=7&&n+i*e>=0;i++){var s=o[c][n+i*e];if(s.color)return s}}var n=void 0!==r(-1)&&r(-1).firstMove,c=void 0!==r(1)&&r(1).firstMove,i={possibleRock:[]};return n||c?(t.firstMove&&(n||c)&&(n&&i.possibleRock.push({col:1,row:t.coord.row}),c&&i.possibleRock.push({col:5,row:t.coord.row})),i):i}(ie.a.cloneDeep(r),e))),"Pawn"===e.name&&(b=ae({},b,{},V(n,c,r.firstMoveWeakness,e,b))),void o.setState({LoM:b,selectedCoord:e.coord})}if(u){if(u){var w={y:t.target.getBoundingClientRect().top,x:t.target.getBoundingClientRect().left},d="black"===c?"white":"black",h=n[i.row][i.col],m=e.coord,g=m.col,k=m.row,O=r.firstMoveWeakness&&"Pawn"===h.name&&g===r.firstMoveWeakness.col&&k===r.firstMoveWeakness.row,P=n[e.coord.row][e.coord.col].name,j=h.direction,E="Pawn"===h.name&&(3===k||4===k),M=t.target.classList.contains("possibleRock"),x=null;o.setState({prevState:{currentPlayer:c,board:ie.a.cloneDeep(r.board),selectedCoord:{},StartingCoord:{},LoM:{possibleMoves:[],possibleEat:[],possibleRock:[],possibleChess:!1},lostPieces:{white:r.lostPieces.white.slice(),black:r.lostPieces.black.slice()},chessMate:!1,prevState:o.state.prevState}}),function(e,t,o){var r=document.documentElement;o.firstChild.classList.toggle("movingPiece"),r.style.setProperty("--X","".concat(e.x-t.x,"px")),r.style.setProperty("--Y","".concat(e.y-t.y,"px")),setTimeout(function(){o.firstChild.classList.toggle("movingPiece"),r.style.setProperty("--X","0"),r.style.setProperty("--Y","0")},500)}(r.StartingCoord,w,t.target),P&&("black"===c?ne.dispatch({type:"ADD_WHITE",payload:ae({},n[k][g])}):"white"===c&&ne.dispatch({type:"ADD_BLACK",payload:ae({},n[k][g])}),a[d]=[].concat(Object(s.a)(a[d]),[ae({},n[k][g])])),n=J(n,i,e.coord),M?n=function(e,t){return 1===t.col&&(e[t.row][2]=Object.assign({},new v("black"),{coord:{row:t.row,col:2}}),e[t.row][0]=Object.assign({},new f,{coord:{row:t.row,col:0}})),5===t.col&&(e[t.row][4]=Object.assign({},e[t.row][7],{coord:{row:t.row,col:4}}),e[t.row][7]=Object.assign({},new f,{coord:{row:t.row,col:7}})),e}(n,e.coord):O&&(a[d]=[].concat(Object(s.a)(a[d]),[ae({},n[k-j][g])]),n[k-j][g]=Object.assign({},new f,{coord:{row:k-j,col:g}})),h.firstMove&&(n[e.coord.row][e.coord.col].handleFirstMove(),E&&(n[k-j][g]=Object.assign(n[k-j][g],{firstMoveWeakness:!0}),x={col:g,row:k-j})),"Pawn"!==n[e.coord.row][e.coord.col].name||0!==e.coord.row&&7!==e.coord.row||(n=function(e,t,o){return e[t.row][t.col]=Object.assign({},new y(o),{coord:t}),e}(n,e.coord,c)),ne.dispatch({type:"SWITCH_PLAYER",payload:d}),ne.dispatch({type:"ADD_MOVE"}),function(e){var t="black"===e?0:180,o=t;!function e(){t-=o-t<100?4:o-t<150?1:.5,console.log(o-t),document.documentElement.style.setProperty("--angle",t+"deg"),0!==t&&-180!==t&&window.requestAnimationFrame(e)}()}(c),o.setState({board:n,selectedCoord:{},LoM:{possibleMoves:[],possibleEat:[],possibleRock:[]},currentPlayer:d,firstMoveWeakness:x,StartingCoord:{},chessMate:Q(n,c)})}}else o.setState({selectedCoord:{},LoM:{possibleMoves:[],possibleEat:[],possibleRock:[]},StartingCoord:{}})},o.getClassName=function(e,t,o){var r=e.board.map(function(e){return Object(s.a)(e)}),n=ae({},e),c=n.selectedCoord,i=n.LoM,a=n.currentPlayer,l=" ";if(r[o][t].color&&(l+=r[o][t].color+"Piece "),r[o][t].color===a&&(l+="playing "),c.col===t&&c.row===o)return l+"isSelected ";if("forbiddenMoves"in i)for(var u=0;u<i.forbiddenMoves.length;u++)if(i.forbiddenMoves[u].col===t&&i.forbiddenMoves[u].row===o)return l+"forbiddenMove ";if("possibleMoves"in i)for(var p=0;p<i.possibleMoves.length;p++)if(i.possibleMoves[p].col===t&&i.possibleMoves[p].row===o)return l+"possibleMove ";if("possibleEat"in i)for(var b=0;b<i.possibleEat.length;b++)if(i.possibleEat[b].col===t&&i.possibleEat[b].row===o)return l+"possibleEat ";if("possibleRock"in i)for(var w=0;w<i.possibleRock.length;w++)if(i.possibleRock[w].col===t&&i.possibleRock[w].row===o)return l+"possibleRock ";return l},o}return Object(w.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t="black"===this.state.currentPlayer?"white":"black";return n.a.createElement("div",{className:"board-bkg"},n.a.createElement("div",{className:"Board "+this.state.selectedCoord},this.state.board.map(function(t,o){return t.map(function(t,r){var c=e.getClassName(e.state,r,o);return n.a.createElement($,{key:o*o+r*r,number:r+o,piece:t,handleClick:e.handleClick,className:c})})}),this.state.chessMate&&n.a.createElement("div",{className:"chessMate"},t+" wins")))}}]),t}(n.a.Component),pe=Object(Z.b)(function(e,t){return ae({},e,{},t)})(ue),be=o(30);var we=function(){var e=n.a.useState(!1),t=Object(be.a)(e,2),o=t[0],r=t[1],c=document.getElementById("root"),i=function(){document.webkitIsFullScreen?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),r(!1)):(c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen(),r(!0))},s=o?n.a.createElement("i",{className:"fas fa-compress-arrows-alt",onClick:i}):n.a.createElement("i",{className:"fas fa-expand-arrows-alt",onClick:i});return n.a.createElement(n.a.Fragment,null,s)};function de(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}var fe=Object(Z.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?de(o,!0).forEach(function(t){Object(a.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):de(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({},t,{currentPlayer:e.currentPlayer,move:e.move})})(function(e){var t=e.currentPlayer,o=e.move;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,t+" plays \nMove : "+o),n.a.createElement("button",{className:"undo",onClick:function(){o&&ne.dispatch({type:"TOGGLE_UNDO"})}},"UNDO"))});function he(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function ve(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?he(o,!0).forEach(function(t){Object(a.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):he(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function me(e){var t=Object.keys(e)[0];return n.a.createElement("div",{className:"lostPieces"},e[t].map(function(e,t){return n.a.createElement("img",{src:X(e),alt:"",key:t+e})}))}var ye=Object(Z.b)(function(e,t){var o=e.white;return ve({white:Object(s.a)(o)},t)})(me),ge=Object(Z.b)(function(e,t){var o=e.black;return ve({black:Object(s.a)(o)},t)})(me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement("div",{className:"App"},n.a.createElement(we,null),n.a.createElement(Z.a,{store:ne},n.a.createElement(ge,null),n.a.createElement(pe,null),n.a.createElement(ye,null),n.a.createElement(fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[33,1,2]]]);
//# sourceMappingURL=main.602e3916.chunk.js.map